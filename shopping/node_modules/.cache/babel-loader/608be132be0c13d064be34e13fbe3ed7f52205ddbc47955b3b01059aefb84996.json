{"ast":null,"code":"import { getAddressList } from '@/api/address.js';\nimport { checkOrder } from '@/api/order.js';\nexport default {\n  name: 'PayPage',\n  data() {\n    return {\n      addressList: [],\n      order: {},\n      personal: {}\n    };\n  },\n  props: {\n    mobile: {\n      type: Number\n    }\n  },\n  computed: {\n    selectedAddress() {\n      // 这里地址管理非主线业务，直接获取第一个项目作为选中的地址\n      return this.addressList[0] || {\n        address_id: '001',\n        name: '默认用户',\n        phone: this.mobile,\n        address: '中国'\n      };\n    },\n    longAddress() {\n      const region = this.selectedAddress.region;\n      return region.province + region.city + region.region + this.selectedAddress.detail;\n    },\n    mode() {\n      return this.$route.query.mode;\n    },\n    cartIds() {\n      return this.$route.query.cartIds;\n    }\n  },\n  created() {\n    this.getAddressList();\n    this.getOrderList();\n  },\n  methods: {\n    async getAddressList() {\n      const {\n        data: {\n          list\n        }\n      } = await getAddressList();\n      this.addressList = list;\n    },\n    async getOrderList() {\n      const {\n        data: {\n          order,\n          personal\n        }\n      } = await checkOrder(this.mode, {\n        cartIds: this.cartIds\n      });\n      this.order = order;\n      this.personal = personal;\n    }\n  }\n};","map":{"version":3,"names":["getAddressList","checkOrder","name","data","addressList","order","personal","props","mobile","type","Number","computed","selectedAddress","address_id","phone","address","longAddress","region","province","city","detail","mode","$route","query","cartIds","created","getOrderList","methods","list"],"sources":["src/views/pay/index.vue"],"sourcesContent":["<!-- 结算支付 - 一级路由 -->\r\n<template>\r\n  <div>\r\n    <van-nav-bar\r\n    title=\"订单结算台\"\r\n    left-arrow\r\n    @click-left=\"$router.push('/shopping')\"\r\n     />\r\n    <img src=\"@/assets/img/货车动.png\" class=\"img1\">\r\n    <div v-if=\"selectedAddress.address_id\" class=\"box1\">\r\n      <p><span>{{ selectedAddress.name }}</span><span>{{ selectedAddress.phone }}</span></p>\r\n      <!-- <p class=\"p2\">{{ longAddress }}</p> -->\r\n      <p class=\"p2\">{{ selectedAddress.address }}</p>\r\n    </div>\r\n    <div v-else class=\"box2\">\r\n      <p>请选择配送地址</p>\r\n    </div>\r\n    <van-icon name=\"arrow\"></van-icon>\r\n    <ul>\r\n      <li v-for=\"i in 12\" :key=\"i\"></li>\r\n    </ul>\r\n    <div class=\"goods\">\r\n      <img :src=\"order.goodsList[0].goods_image\">\r\n      <p>{{ order.goodsList[0].goods_name }}</p>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getAddressList } from '@/api/address.js'\r\nimport { checkOrder } from '@/api/order.js'\r\nexport default {\r\n  name: 'PayPage',\r\n  data () {\r\n    return {\r\n      addressList: [],\r\n      order: {},\r\n      personal: {}\r\n    }\r\n  },\r\n  props: {\r\n    mobile: {\r\n      type: Number\r\n    }\r\n  },\r\n  computed: {\r\n    selectedAddress () {\r\n      // 这里地址管理非主线业务，直接获取第一个项目作为选中的地址\r\n      return this.addressList[0] ||\r\n      {\r\n        address_id: '001',\r\n        name: '默认用户',\r\n        phone: this.mobile,\r\n        address: '中国'\r\n      }\r\n    },\r\n    longAddress () {\r\n      const region = this.selectedAddress.region\r\n      return region.province + region.city + region.region + this.selectedAddress.detail\r\n    },\r\n    mode () {\r\n      return this.$route.query.mode\r\n    },\r\n    cartIds () {\r\n      return this.$route.query.cartIds\r\n    }\r\n  },\r\n  created () {\r\n    this.getAddressList()\r\n    this.getOrderList()\r\n  },\r\n  methods: {\r\n    async getAddressList () {\r\n      const { data: { list } } = await getAddressList()\r\n      this.addressList = list\r\n    },\r\n    async getOrderList () {\r\n      const { data: { order, personal } } = await checkOrder(this.mode, {\r\n        cartIds: this.cartIds\r\n      })\r\n      this.order = order\r\n      this.personal = personal\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n@import '@/styles/css/pay.css';\r\n</style>\r\n"],"mappings":"AA6BA,SAAAA,cAAA;AACA,SAAAC,UAAA;AACA;EACAC,IAAA;EACAC,KAAA;IACA;MACAC,WAAA;MACAC,KAAA;MACAC,QAAA;IACA;EACA;EACAC,KAAA;IACAC,MAAA;MACAC,IAAA,EAAAC;IACA;EACA;EACAC,QAAA;IACAC,gBAAA;MACA;MACA,YAAAR,WAAA,OACA;QACAS,UAAA;QACAX,IAAA;QACAY,KAAA,OAAAN,MAAA;QACAO,OAAA;MACA;IACA;IACAC,YAAA;MACA,MAAAC,MAAA,QAAAL,eAAA,CAAAK,MAAA;MACA,OAAAA,MAAA,CAAAC,QAAA,GAAAD,MAAA,CAAAE,IAAA,GAAAF,MAAA,CAAAA,MAAA,QAAAL,eAAA,CAAAQ,MAAA;IACA;IACAC,KAAA;MACA,YAAAC,MAAA,CAAAC,KAAA,CAAAF,IAAA;IACA;IACAG,QAAA;MACA,YAAAF,MAAA,CAAAC,KAAA,CAAAC,OAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAzB,cAAA;IACA,KAAA0B,YAAA;EACA;EACAC,OAAA;IACA,MAAA3B,eAAA;MACA;QAAAG,IAAA;UAAAyB;QAAA;MAAA,UAAA5B,cAAA;MACA,KAAAI,WAAA,GAAAwB,IAAA;IACA;IACA,MAAAF,aAAA;MACA;QAAAvB,IAAA;UAAAE,KAAA;UAAAC;QAAA;MAAA,UAAAL,UAAA,MAAAoB,IAAA;QACAG,OAAA,OAAAA;MACA;MACA,KAAAnB,KAAA,GAAAA,KAAA;MACA,KAAAC,QAAA,GAAAA,QAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}