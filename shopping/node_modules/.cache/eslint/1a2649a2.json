[{"D:\\A\\WEB\\dark horse\\Vue\\Vue2.0\\shopping\\src\\main.js":"1","D:\\A\\WEB\\dark horse\\Vue\\Vue2.0\\shopping\\src\\App.vue":"2","D:\\A\\WEB\\dark horse\\Vue\\Vue2.0\\shopping\\src\\utils\\vant-ui.js":"3","D:\\A\\WEB\\dark horse\\Vue\\Vue2.0\\shopping\\src\\router\\index.js":"4","D:\\A\\WEB\\dark horse\\Vue\\Vue2.0\\shopping\\src\\views\\home\\first.vue":"5","D:\\A\\WEB\\dark horse\\Vue\\Vue2.0\\shopping\\src\\views\\home\\shopping.vue":"6","D:\\A\\WEB\\dark horse\\Vue\\Vue2.0\\shopping\\src\\views\\search\\list.vue":"7","D:\\A\\WEB\\dark horse\\Vue\\Vue2.0\\shopping\\src\\views\\home\\category.vue":"8","D:\\A\\WEB\\dark horse\\Vue\\Vue2.0\\shopping\\src\\views\\search\\index.vue":"9","D:\\A\\WEB\\dark horse\\Vue\\Vue2.0\\shopping\\src\\views\\home\\index.vue":"10","D:\\A\\WEB\\dark horse\\Vue\\Vue2.0\\shopping\\src\\views\\pay\\index.vue":"11","D:\\A\\WEB\\dark horse\\Vue\\Vue2.0\\shopping\\src\\views\\login\\index.vue":"12","D:\\A\\WEB\\dark horse\\Vue\\Vue2.0\\shopping\\src\\views\\goods\\index.vue":"13","D:\\A\\WEB\\dark horse\\Vue\\Vue2.0\\shopping\\src\\store\\index.js":"14","D:\\A\\WEB\\dark horse\\Vue\\Vue2.0\\shopping\\src\\components\\GoodsItem.vue":"15","D:\\A\\WEB\\dark horse\\Vue\\Vue2.0\\shopping\\src\\api\\first.js":"16","D:\\A\\WEB\\dark horse\\Vue\\Vue2.0\\shopping\\src\\components\\CountBox.vue":"17","D:\\A\\WEB\\dark horse\\Vue\\Vue2.0\\shopping\\src\\utils\\storage.js":"18","D:\\A\\WEB\\dark horse\\Vue\\Vue2.0\\shopping\\src\\api\\order.js":"19","D:\\A\\WEB\\dark horse\\Vue\\Vue2.0\\shopping\\src\\api\\address.js":"20","D:\\A\\WEB\\dark horse\\Vue\\Vue2.0\\shopping\\src\\api\\login.js":"21","D:\\A\\WEB\\dark horse\\Vue\\Vue2.0\\shopping\\src\\api\\cart.js":"22","D:\\A\\WEB\\dark horse\\Vue\\Vue2.0\\shopping\\src\\store\\modules\\cart.js":"23","D:\\A\\WEB\\dark horse\\Vue\\Vue2.0\\shopping\\src\\store\\modules\\user.js":"24","D:\\A\\WEB\\dark horse\\Vue\\Vue2.0\\shopping\\src\\api\\product.js":"25","D:\\A\\WEB\\dark horse\\Vue\\Vue2.0\\shopping\\src\\mixins\\loginConfirm.js":"26","D:\\A\\WEB\\dark horse\\Vue\\Vue2.0\\shopping\\src\\utils\\request.js":"27","D:\\A\\WEB\\dark horse\\Vue\\Vue2.0\\shopping\\src\\api\\category.js":"28"},{"size":276,"mtime":1723897722541,"results":"29","hashOfConfig":"30"},{"size":565,"mtime":1723901423259,"results":"31","hashOfConfig":"30"},{"size":627,"mtime":1723888059774,"results":"32","hashOfConfig":"30"},{"size":2145,"mtime":1723897680973,"results":"33","hashOfConfig":"30"},{"size":2378,"mtime":1723902082522,"results":"34","hashOfConfig":"30"},{"size":3841,"mtime":1723546458247,"results":"35","hashOfConfig":"30"},{"size":1369,"mtime":1723109826500,"results":"36","hashOfConfig":"30"},{"size":1516,"mtime":1723898155653,"results":"37","hashOfConfig":"30"},{"size":1958,"mtime":1723085966363,"results":"38","hashOfConfig":"30"},{"size":573,"mtime":1723896441661,"results":"39","hashOfConfig":"30"},{"size":4798,"mtime":1723897295090,"results":"40","hashOfConfig":"30"},{"size":3941,"mtime":1723284259474,"results":"41","hashOfConfig":"30"},{"size":5855,"mtime":1723727492668,"results":"42","hashOfConfig":"30"},{"size":378,"mtime":1723372647546,"results":"43","hashOfConfig":"30"},{"size":781,"mtime":1723898038479,"results":"44","hashOfConfig":"30"},{"size":203,"mtime":1723033485463,"results":"45","hashOfConfig":"30"},{"size":968,"mtime":1723281348670,"results":"46","hashOfConfig":"30"},{"size":824,"mtime":1723083522541,"results":"47","hashOfConfig":"30"},{"size":877,"mtime":1723803402578,"results":"48","hashOfConfig":"30"},{"size":148,"mtime":1723897699246,"results":"49","hashOfConfig":"30"},{"size":663,"mtime":1722942570726,"results":"50","hashOfConfig":"30"},{"size":746,"mtime":1723516886311,"results":"51","hashOfConfig":"30"},{"size":2806,"mtime":1723517610102,"results":"52","hashOfConfig":"30"},{"size":508,"mtime":1722999604921,"results":"53","hashOfConfig":"30"},{"size":619,"mtime":1723206931502,"results":"54","hashOfConfig":"30"},{"size":1639,"mtime":1723727374588,"results":"55","hashOfConfig":"30"},{"size":2097,"mtime":1723286336168,"results":"56","hashOfConfig":"30"},{"size":141,"mtime":1723110365627,"results":"57","hashOfConfig":"30"},{"filePath":"58","messages":"59","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"w3fvlf",{"filePath":"60","messages":"61","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"62","messages":"63","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"64","messages":"65","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"66","messages":"67","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"68","messages":"69","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"70","messages":"71","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"72","messages":"73","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"74"},{"filePath":"75","messages":"76","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"77","messages":"78","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"79","messages":"80","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"81","messages":"82","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"83","messages":"84","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"85"},{"filePath":"86","messages":"87","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"88","messages":"89","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"90","messages":"91","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"92","messages":"93","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"94","messages":"95","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"96","messages":"97","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"98","messages":"99","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"100","messages":"101","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"102","messages":"103","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"104","messages":"105","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"106","messages":"107","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"108","messages":"109","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"110","messages":"111","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"112","messages":"113","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"114","messages":"115","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"D:\\A\\WEB\\dark horse\\Vue\\Vue2.0\\shopping\\src\\main.js",[],"D:\\A\\WEB\\dark horse\\Vue\\Vue2.0\\shopping\\src\\App.vue",[],"D:\\A\\WEB\\dark horse\\Vue\\Vue2.0\\shopping\\src\\utils\\vant-ui.js",[],"D:\\A\\WEB\\dark horse\\Vue\\Vue2.0\\shopping\\src\\router\\index.js",[],"D:\\A\\WEB\\dark horse\\Vue\\Vue2.0\\shopping\\src\\views\\home\\first.vue",[],"D:\\A\\WEB\\dark horse\\Vue\\Vue2.0\\shopping\\src\\views\\home\\shopping.vue",[],"D:\\A\\WEB\\dark horse\\Vue\\Vue2.0\\shopping\\src\\views\\search\\list.vue",[],"D:\\A\\WEB\\dark horse\\Vue\\Vue2.0\\shopping\\src\\views\\home\\category.vue",["116"],"<!-- 分类页 -->\r\n<template>\r\n  <div class=\"cate\">\r\n    <van-nav-bar title=\"全部分类\"/>\r\n    <van-search\r\n        class=\"search\"\r\n        placeholder=\"请输入搜索关键词\"\r\n        @click=\"$router.push('/search')\"\r\n      >\r\n      </van-search>\r\n\r\n    <div>\r\n      <ul>\r\n        <li v-for=\"item in nameList\" :key=\"item.category_id\">\r\n          <!-- <a\r\n            :class=\"{active:index === activeIndex}\"\r\n            @click=\"activeIndex = index\"\r\n            href=\"javaScript:;\"> -->\r\n            {{ item.name }}\r\n          <!-- </a> -->\r\n        </li>\r\n      </ul>\r\n      <div class=\"grid\" >\r\n        <van-grid :column-num=\"3\" >\r\n          <!-- v-for=\"item in nameList[activeIndex]?.children\" -->\r\n          <van-grid-item\r\n            v-for=\"item in childrenList\"\r\n            :key=\"item.category_id\"\r\n            :icon=\"item.image.external_url\"\r\n            :text=\"item.name\"\r\n            @click=\"$router.push(`/searchList/?search=${item.name}`)\"\r\n            />\r\n        </van-grid>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getCategoryData } from '@/api/category.js'\r\n\r\nexport default {\r\n  name: 'CategoryPage',\r\n  data () {\r\n    return {\r\n      nameList: [],\r\n      childrenList: []\r\n    }\r\n  },\r\n  async created () {\r\n    const { data } = await getCategoryData()\r\n    this.nameList = data.list\r\n    this.childrenList = this.nameList[0].children\r\n    console.log(this.childrenList)\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n@import '@/styles/css/category.css';\r\n</style>\r\n","D:\\A\\WEB\\dark horse\\Vue\\Vue2.0\\shopping\\src\\views\\search\\index.vue",[],"D:\\A\\WEB\\dark horse\\Vue\\Vue2.0\\shopping\\src\\views\\home\\index.vue",[],"D:\\A\\WEB\\dark horse\\Vue\\Vue2.0\\shopping\\src\\views\\pay\\index.vue",[],"D:\\A\\WEB\\dark horse\\Vue\\Vue2.0\\shopping\\src\\views\\login\\index.vue",[],"D:\\A\\WEB\\dark horse\\Vue\\Vue2.0\\shopping\\src\\views\\goods\\index.vue",["117"],"<!-- 商品详情 - 一级路由 -->\r\n<template>\r\n  <div class=\"goods\">\r\n    <van-nav-bar\r\n      :v-model=\"goodsId\"\r\n      title=\"商品详情页\"\r\n      left-arrow\r\n      @click-left=\"$router.push('/searchList')\"\r\n    />\r\n    <van-swipe @change=\"onChange()\" :autoplay=\"2000\">\r\n      <van-swipe-item v-for=\"(item,index) in images\" :key=\"index\">\r\n        <img :src=\"item.external_url\" class=\"imgUrl\">\r\n        <span class=\"page\">{{ page }} / {{ images.length }}</span>\r\n      </van-swipe-item>\r\n    </van-swipe>\r\n    <div class=\"price\">\r\n      <span class=\"min\">￥{{ detail.goods_price_min }}</span>\r\n      <span class=\"max\">￥{{ detail.line_price_max }}</span>\r\n      <span class=\"sales\">已售{{ detail.goods_sales }}件</span>\r\n    </div>\r\n    <p class=\"name\">{{ detail.goods_name }}</p>\r\n    <p class=\"icon\">\r\n      <van-icon name=\"passed\"/>\r\n      七天无理由退货\r\n      <van-icon name=\"passed\"/>\r\n      48小时发货\r\n      <van-icon name=\"arrow\"/>\r\n    </p>\r\n    <p class=\"p\">\r\n      <span>商品评价({{ total }}条)</span>\r\n      <span class=\"p_sp\">\r\n        查看更多\r\n      <van-icon name=\"arrow\"/>\r\n      </span>\r\n    </p>\r\n    <div class=\"ul\">\r\n      <ul v-for=\"item in commentList\" :key=\"item.comment_id\">\r\n        <li>\r\n          <img :src=\"item.user.avatar_url || defaultImg\" class=\"defaultImg\">\r\n          <span class=\"li_sp\">{{ item.user.nick_name }}</span>\r\n          <van-rate size=16px gutter=2px :value=\"item.score / 2\" :count=\"6\" color=\"#ffd21e\" void-color=\"#fed\"/>\r\n          <p>{{ item.content }}</p>\r\n          <p class=\"p2\">{{ item.create_time }}</p>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <!-- 商品描述 -->\r\n    <div v-html=\"detail.content\" class=\"content\"></div>\r\n    <!-- 底部 -->\r\n    <van-tabbar active-color=\"black\" inactive-color=\"black\" route fixed>\r\n      <van-tabbar-item icon=\"wap-home-o\" to=\"/first\">首页</van-tabbar-item>\r\n      <van-tabbar-item icon=\"shopping-cart-o\" to=\"/shopping\" class=\"shopping-cart\">购物车</van-tabbar-item>\r\n      <p class=\"cart\" v-if=\"cartTotal > 0\">{{ cartTotal }}</p>\r\n      <button class=\"btn1\" @click=\"addFn()\">加入购物车</button>\r\n      <button class=\"btn2\" @click=\"buyFn()\">立即购买</button>\r\n    </van-tabbar>\r\n    <!-- 加入购物车/立即购买 共用的弹层 -->\r\n    <van-action-sheet\r\n    v-model=\"showPannel\"\r\n    :title = \"mode === 'cart' ? '加入购物车' : '立即购买'\">\r\n      <div class=\"sheet\">\r\n        <img :src=\"detail.goods_image\" class=\"sheetImg\">\r\n        <p class=\"sheet-p1\"><span>￥</span>{{ detail.goods_price_min }}</p>\r\n        <p class=\"sheet-p2\">库存{{ detail.stock_total }}</p>\r\n        <div class=\"count\">\r\n          <span>数量</span>\r\n          <!-- v-model应用于组件时，本质上是 :value 和 @input 的简写 -->\r\n          <CountBox v-model=\"addCount\" class=\"count-box\"></CountBox>\r\n        </div>\r\n        <div class=\"stock\">\r\n          <!-- 有库存 -->\r\n          <div v-if=\"detail.stock_total > 0\" @click=\"addCart()\">\r\n            <button v-if=\"mode === 'cart'\" class=\"btn-sheet1\">加入购物车</button>\r\n            <button v-else class=\"btn-sheet2\" @click=\"goBuyNow()\">立即购买</button>\r\n          </div>\r\n          <!-- 没有库存 -->\r\n          <div class=\"none\" v-else>该商品已售完</div>\r\n        </div>\r\n      </div>\r\n    </van-action-sheet>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getProComments, getProDetail } from '@/api/product'\r\nimport defaultImg from '@/assets/img/defaultImg.webp'\r\nimport CountBox from '@/components/CountBox.vue'\r\nimport { Toast } from 'vant'\r\nimport { addCart } from '@/api/cart.js'\r\nimport loginConfirm from '@/mixins/loginConfirm'\r\nexport default {\r\n  name: 'GoodsPage',\r\n  mixins: [loginConfirm],\r\n  data () {\r\n    return {\r\n      detail: {},\r\n      images: [],\r\n      page: 1,\r\n      total: 0, // 评价总数\r\n      commentList: [], // 评价列表\r\n      defaultImg,\r\n      showPannel: false, // 控制弹层的 显示隐藏\r\n      mode: 'cart',\r\n      addCount: 1, // 数字框绑定的数据\r\n      cartTotal: 0 // 购物车角标\r\n    }\r\n  },\r\n  computed: {\r\n    goodsId () {\r\n      return this.$route.params.id\r\n    }\r\n  },\r\n  created () {\r\n    this.getDetail()\r\n    this.getComments()\r\n  },\r\n  methods: {\r\n    onChange () {\r\n      this.page += 1\r\n      if (this.page > this.images.length) {\r\n        this.page = 1\r\n      }\r\n    },\r\n    async getDetail () {\r\n      const { data: { detail } } = await getProDetail(this.goodsId)\r\n      this.detail = detail\r\n      this.images = detail.goods_images\r\n    },\r\n    async getComments () {\r\n      const { data: { list, total } } = await getProComments(this.goodsId, 5)\r\n      this.commentList = list\r\n      this.total = total\r\n    },\r\n    addFn () {\r\n      this.mode = 'cart'\r\n      this.showPannel = true\r\n    },\r\n    buyFn () {\r\n      this.mode = 'buyNow'\r\n      this.showPannel = true\r\n    },\r\n    async addCart () {\r\n      // 判断 token 是否存在\r\n\r\n      if (this.loginConfirm()) {\r\n        return\r\n      }\r\n      const { data } = await addCart(this.goodsId, this.addCount, this.detail.skuList[0].goods_sku_id)\r\n      this.cartTotal = data.cartTotal\r\n      Toast('加入购物车')\r\n      this.showPannel = false\r\n      console.log(this.cartTotal)\r\n    },\r\n    goBuyNow () {\r\n      // 未登录的处理，需要弹出一个确认框\r\n      // 当前的操作需要登录才能继续 => 去登录 再逛逛\r\n      // 判断 token 是否存在\r\n      if (this.loginConfirm()) {\r\n        return\r\n      }\r\n      this.$router.push({\r\n        path: '/pay',\r\n        query: {\r\n          mode: 'buyNow',\r\n          goodsId: this.goodsId,\r\n          goodsSkuId: this.detail.skuList[0].goods_sku_id,\r\n          goodsNum: this.addCount\r\n        }\r\n      })\r\n    }\r\n  },\r\n  components: {\r\n    CountBox\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n@import '@/styles/css/goods.css';\r\n</style>\r\n","D:\\A\\WEB\\dark horse\\Vue\\Vue2.0\\shopping\\src\\store\\index.js",[],"D:\\A\\WEB\\dark horse\\Vue\\Vue2.0\\shopping\\src\\components\\GoodsItem.vue",[],"D:\\A\\WEB\\dark horse\\Vue\\Vue2.0\\shopping\\src\\api\\first.js",[],"D:\\A\\WEB\\dark horse\\Vue\\Vue2.0\\shopping\\src\\components\\CountBox.vue",[],"D:\\A\\WEB\\dark horse\\Vue\\Vue2.0\\shopping\\src\\utils\\storage.js",[],"D:\\A\\WEB\\dark horse\\Vue\\Vue2.0\\shopping\\src\\api\\order.js",[],"D:\\A\\WEB\\dark horse\\Vue\\Vue2.0\\shopping\\src\\api\\address.js",[],"D:\\A\\WEB\\dark horse\\Vue\\Vue2.0\\shopping\\src\\api\\login.js",[],"D:\\A\\WEB\\dark horse\\Vue\\Vue2.0\\shopping\\src\\api\\cart.js",[],"D:\\A\\WEB\\dark horse\\Vue\\Vue2.0\\shopping\\src\\store\\modules\\cart.js",[],"D:\\A\\WEB\\dark horse\\Vue\\Vue2.0\\shopping\\src\\store\\modules\\user.js",[],"D:\\A\\WEB\\dark horse\\Vue\\Vue2.0\\shopping\\src\\api\\product.js",[],"D:\\A\\WEB\\dark horse\\Vue\\Vue2.0\\shopping\\src\\mixins\\loginConfirm.js",[],"D:\\A\\WEB\\dark horse\\Vue\\Vue2.0\\shopping\\src\\utils\\request.js",[],"D:\\A\\WEB\\dark horse\\Vue\\Vue2.0\\shopping\\src\\api\\category.js",[],{"ruleId":"118","severity":1,"message":"119","line":55,"column":5,"nodeType":"120","messageId":"121","endLine":55,"endColumn":16},{"ruleId":"118","severity":1,"message":"119","line":152,"column":7,"nodeType":"120","messageId":"121","endLine":152,"endColumn":18},"no-console","Unexpected console statement.","MemberExpression","unexpected"]